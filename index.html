<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Weave API Documentation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">

    <link href="/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="icon" href="/img/weave_favicon.png">
    <!-- Favicons -->
<!--
<link rel="apple-touch-icon" href="/docs/5.3/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/docs/5.3/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/docs/5.3/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/docs/5.3/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/docs/5.3/assets/img/favicons/safari-pinned-tab.svg" color="#712cf9">

<meta name="theme-color" content="#712cf9">
-->
    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .b-example-divider {
        width: 100%;
        height: 3rem;
        background-color: rgba(0, 0, 0, .1);
        border: solid rgba(0, 0, 0, .15);
        border-width: 1px 0;
        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
      }

      .b-example-vr {
        flex-shrink: 0;
        width: 1.5rem;
        height: 100vh;
      }

      .bi {
        vertical-align: -.125em;
        fill: currentColor;
      }

      .nav-scroller {
        position: relative;
        z-index: 2;
        height: 2.75rem;
        overflow-y: hidden;
      }

      .nav-scroller .nav {
        display: flex;
        flex-wrap: nowrap;
        padding-bottom: 1rem;
        margin-top: -1px;
        overflow-x: auto;
        text-align: center;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
      }

      .btn-bd-primary {
        --bd-violet-bg: #712cf9;
        --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

        --bs-btn-font-weight: 600;
        --bs-btn-color: var(--bs-white);
        --bs-btn-bg: var(--bd-violet-bg);
        --bs-btn-border-color: var(--bd-violet-bg);
        --bs-btn-hover-color: var(--bs-white);
        --bs-btn-hover-bg: #6528e0;
        --bs-btn-hover-border-color: #6528e0;
        --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
        --bs-btn-active-color: var(--bs-btn-hover-color);
        --bs-btn-active-bg: #5a23c8;
        --bs-btn-active-border-color: #5a23c8;
      }

      .bd-mode-toggle {
        z-index: 1500;
      }

      .bd-mode-toggle .dropdown-menu .active .bi {
        display: block !important;
      }
    </style>

    
    <!-- Custom styles for this template -->
    <link href="/css/sidebars.css" rel="stylesheet">
  </head>

  <body>
<div class="d-flex">
    <div class="flex-shrink-0 p-3" style="width: 280px;">
        <a href="/" class="d-flex align-items-center pb-3 mb-3 link-body-emphasis text-decoration-none border-bottom">
            <img src="/img/weave_logo.png" alt="Weave" width="30" height="24" > 
<!--          <svg class="bi pe-none me-2" width="30" height="24"><use xlink:href="#bootstrap"></use></svg> -->
          <span class="fs-5 fw-semibold">Weave API</span>
        </a>
        <ul class="list-unstyled ps-0">
            <li class="mb-1">
                <a class="btn text-decoration-none" href="#introduction">Introduction</a>
            </li>
            <li class="mb-1">
            <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0" data-bs-toggle="collapse" data-bs-target="#home-collapse" aria-expanded="true">
              API Design
            </button>
            <div class="collapse show" id="home-collapse" style="">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                <li><a href="#domain" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Domain</a></li>
                <li><a href="#api_version" class="link-body-emphasis d-inline-flex text-decoration-none rounded">API version</a></li>
                <li><a href="#endpoints" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Endpoints</a></li>
                <li><a href="#headers" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Headers</a></li>
              </ul>
            </div>
          </li>
          <li class="mb-1">
            <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed" data-bs-toggle="collapse" data-bs-target="#dashboard-collapse" aria-expanded="false">
              Context
            </button>
            <div class="collapse" id="dashboard-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                <li><a href="#integrations" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Integrations</a></li>
                <li><a href="#origin" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Origin</a></li>
                <li><a href="#api_version" class="link-body-emphasis d-inline-flex text-decoration-none rounded">API Version</a></li>
                <li><a href="#api_headers" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Headers</a></li>
                <li><a href="#returned_data" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Returned Data</a></li>
                <li><a href="#errors" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Errors</a></li>
              </ul>
            </div>
          </li>
          <li class="mb-1">
            <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed" data-bs-toggle="collapse" data-bs-target="#orders-collapse" aria-expanded="false">
              Endpoints
            </button>
            <div class="collapse" id="orders-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Authentication</a></li>
                <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Listings</a></li>
                <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Calendar</a></li>
                <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Reservations</a></li>
                <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Users</a></li>
                <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Reviews</a></li>
              </ul>
            </div>
          </li>
          <li class="border-top my-3"></li>
          <li class="mb-1">
            <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed" data-bs-toggle="collapse" data-bs-target="#account-collapse" aria-expanded="false">
              Account
            </button>
            <div class="collapse" id="account-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">New...</a></li>
                <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Profile</a></li>
                <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Settings</a></li>
                <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Sign out</a></li>
              </ul>
            </div>
          </li>
        </ul>
      </div>
      <div class="p-2 w-75">
          <section class="mt-3" id="introduction">
<h3> Background</h3>
<p>Weave is an API aggregator for the Travel Tech industry.  Weave enables applications to integrate with a number of different service providers using a single API.  When the underlying service provider APIs change, the integrations built using Weave will be updated with minimal to no development effort by application developers.  Weave will continue to support previous versions of its own API endpoints for a predetermined period of time to enable developers sufficient time to plan and execute updates to their product roadmaps</p>
          </section>
          <h3>API Design</h3>
          <section class="mt-3" id="domain">
            <p class="lead">Domain</p>
              <p>Requests are made to the Weave API domain eg https://use1.weaveapi.com</p>
            <p>Requests can only be made using SSL enabled connections</p>
          </section>
          <section class="mt-3" id="api_version">
              <p class="lead">API Versions</p>
              <p>Requests will specify the Weave API version being used.  If the version is omitted (or is invalid), Weave will default to the latest API version.</p>
              <p>Deprecation schedule: Weave will support 2 previous versions for a period of 6 months before deprecation</p>
          </section>
          <section class="mt-3" id="endpoints">
            <p class="lead">Endpoints</p>
            <p>Each API will have an end point eg /listings.  End points may require additional query parameters (for GET requests) or body parameters (for POST requests).</p>
          </section>
          <section class="mt-3" id="headers">
            <p class="lead">Headers</p>
            <p>Additional parameters for the request, for example authentication tokens and request destinations</p>
            <p>
                Example
curl -X GET \ 
      https://use1.weaveapi.com/v1/reservations/1234 \                 // Weave API endpoint
      -H 'Authorization: Bearer myaccesstoken’  \                         // Weave API access token
      -H 'Destination: hostaway’                                                    // Proxied PMS
      -H 'Destination- auth: Hostaway access token’  \                 // Proxied PMS access token 
      -H 'Cache-control: no-cache’ \                                              // Additional header commands
            </p>
          </section>
          <h3>Context</h3>
          <section class="mt-3" id="integrations">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Type</th>
                        <th scope="col">Name</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>PMS</td>
                        <td>Guesty for Hosts</td>
                    </tr>
                    <tr>
                        <td>PMS</td>
                        <td>Hostaway</td>
                    </tr>
                    <tr>
                        <td>PMS</td>
                        <td>Hospitable</td>
                    </tr>
                    <tr>
                        <td>PMS</td>
                        <td>Hostfully</td>
                    </tr>       
                    <tr>
                        <td>PMS</td>
                        <td>Lodgify</td>
                    </tr>
                    <tr>
                        <td>PMS</td>
                        <td>Lodgix</td>
                    </tr>                    
                    <tr>
                        <td>PMS</td>
                        <td>Smoobu</td>
                    </tr>
                    <tr>
                        <td>PMS</td>
                        <td>Uplisting</td>
                    </tr>
                </tbody>
            </table>
          </section>
          <section class="mt-3" id="origin">
          <p class="lead">Origin</p>
        <p>Origin for all requests will be:
https://use1.weaveapi.com
</p>
          </section>
          <section class="mt-3" id="api_version">
            <p class="lead">API Version</p>
              <p>Current API version is “v1”</p>
              <p>Request paths should be prefixed with the API version ie  “/api/v1/endpoint/path”</p>
          </section>
          <section class="mt-3" id="api_headers">
            <p class="lead">Headers</p>
              <p>The following headers need to be included with each request</p>
              <p>X-WEAVE-APIKEY 
Unique API key assigned to each Weave customer
</p>
<p>X-WEAVE-PROXY-DESTINATION
PMS target for the request.  Current options are:
</p>
              <ul>
                  <li>guesty_for_hosts</li>
                  <li>hostaway</li>
                  <li>hospitable</li>
                  <li>hostfully</li>
                  <li>lodgify</li>
                  <li>lodgix</li>
                  <li>smoobu</li>
                  <li>uplisting</li>
              </ul>

              <p>X-WEAVE-PROXY-PARTNER-KEY
API key issued to customer by the PMS / OTA target
</p>

              <p>X-WEAVE-CLIENT-ID
Id of the end user on the target PMS / OTA system
</p>

              <p>X-WEAVE-PROXY-ACCESS-TOKEN
(optional) Access token granted by target PMS / OTA system
</p>
          </section>

          <section class="mt-3" id="returned_data">
              <p class="lead">Returned data</p>
<p>Data is always returned in the format</p>
              <p>{
	data: [ array of normalized data ],
raw:  [ raw data as returned by the proxy ]
status:  [ true / false indication of success of request ] 
}
</p>
              <p>Note: If the proxy target does not support the endpoint, the response will be returned with the data and raw fields as empty arrays</p>
          </section>
          <section class="mt-3" id="errors">
<p class="lead">Errors</p>
              <p>Errors are returned with the appropriate error code and message</p>
              <p>{
	status: false
proxy_message: “......”		// error message returned from target
}
</p>
          </section>

	      <h3>Endpoints</h3>
	      <section class="mt-3" id="authentication">
<p class="lead">Authentication</p>
		      <h6>Context</h6>
		      <p>This endpoint is used to obtain authentication tokens from the target PMS.  The authentication token is then used in future requests (ie passed in the header as X-WEAVE-PROXY-ACCESS-TOKEN)</p>
<h6>Path</h6>
		      <p>/accessTokens</p>
		      <h6>Request type</h6>
		      <p>POST</p>
		      <h6>Headers</h6>
		      <p>Content-type: application/json</p>
		      <h6>Search parameters</h6>
		      <p>None</p>
		      <h6>Body</h6>
		      <p>client_id: PMS user client id</p>
<p>client_secret: PMS user client secret</p>
		      <h6>Results</h6>
		      <p>{
	status: true/false,
	data: [
		{
			access_token: ‘xs34…’	// access token to be used in future requests in the X-WEAVE-PROXY-ACCESS-TOKEN header field
			expiry: 1749275583083	// expiry time of the access_token presented as the number of milliseconds since the beginning of the UNIX epoch
		}
	],
	raw: …. 	
}
</p>
<h6>Supported destinations</h6>
		      <ul>
			      <li>Hostaway</li>
			      <li>Hospitable</li>
		      </ul>
	      </section>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>
